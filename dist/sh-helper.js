!function(){function e(){if(!window.top||!window.top.document)return void console.warn("Cannot access top window - possibly due to cross-origin restrictions");const t=window.top.document.querySelector("#frame-toolbar-desktop");if(!t)return void setTimeout(e,500);const n=window.top.document.querySelector(".custom-toolbar-button");n&&n.parentNode&&n.parentNode.removeChild(n);const o="squarehero-logo-clip-path",r=document.createElement("div");r.className="custom-toolbar-button",r.innerHTML=`\n      <div class="sh-button">\n        <button class="squarehero-dashboard-button">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="27" fill="none">\n            <g clip-path="url(#${o})">\n              <path fill="#001E45" d="M22.883 19.777V7.264L12 1.007 1.115 7.264v12.513L12 26.033l10.884-6.256Z"/>\n              <path fill="#87C4CC" d="M22.883 19.777V7.264L12 1.007 1.115 7.264v12.513L12 26.033l10.884-6.256Z"/>\n              <path fill="#0CC2ED" d="M4.66 5.239a8.455 8.455 0 0 0 3.102 3.09 8.502 8.502 0 0 0 8.476 0 8.455 8.455 0 0 0 3.102-3.09L12 1.007 4.655 5.229l.004.01ZM12 17.594a8.535 8.535 0 0 0-4.236 1.135 8.49 8.49 0 0 0-3.104 3.086L12 26.033l7.34-4.218a8.49 8.49 0 0 0-3.105-3.086A8.536 8.536 0 0 0 12 17.594Z"/>\n              <path fill="#001E45" d="M20.015 5.623a9.234 9.234 0 0 1-3.387 3.373 9.286 9.286 0 0 1-9.255 0 9.234 9.234 0 0 1-3.388-3.373l-2.87 1.64v12.514l2.87 1.65a9.232 9.232 0 0 1 3.387-3.373 9.284 9.284 0 0 1 9.256 0 9.231 9.231 0 0 1 3.387 3.374l2.87-1.65V7.263l-2.87-1.641Z"/>\n              <path fill="#fff" d="M23.271 6.591 12.39.336l-.39-.225-.39.225L.743 6.58l-.016.01-.392.223v13.412l.21.12.18.103 10.884 6.256.39.225.39-.225 7.34-4.22.675-.386.418-.238 2.455-1.412.39-.224V6.816l-.396-.225Zm-3.256 14.836a9.234 9.234 0 0 0-3.387-3.374 9.284 9.284 0 0 0-9.256 0 9.233 9.233 0 0 0-3.387 3.374l-2.87-1.65V7.263l2.87-1.64a9.234 9.234 0 0 0 3.387 3.372 9.285 9.285 0 0 0 9.255 0 9.235 9.235 0 0 0 3.388-3.373l2.87 1.641v12.514l-2.87 1.65Zm-8.016-20.42 7.343 4.222a8.455 8.455 0 0 1-3.101 3.09 8.502 8.502 0 0 1-8.477 0 8.455 8.455 0 0 1-3.101-3.09l7.336-4.222Zm0 25.026-7.34-4.218a8.456 8.456 0 0 1 3.103-3.09 8.502 8.502 0 0 1 8.476 0 8.455 8.455 0 0 1 3.101 3.09L12 26.033Z"/>\n              <path fill="#fff" d="m21.125 11.316-7.92 1.518 2.64 1.517 5.28-3.035ZM2.875 11.316l7.919 1.518-2.64 1.517-5.28-3.035ZM17.281 19.583 9.361 21.1l2.641 1.518 5.28-3.035Z"/>\n            </g>\n            <defs>\n              <clipPath id="${o}">\n                <path fill="#fff" d="M0 0h24v27H0z"/>\n              </clipPath>\n            </defs>\n          </svg>\n        </button>\n      </div>\n    `;const l=t.querySelector("ul")||t.lastChild;if(l){const e=document.createElement("li");e.className="custom-list-item",e.style.cssText="display: flex; align-items: center;",e.appendChild(r),l.insertBefore(e,l.firstChild)}else t.appendChild(r);r.querySelector("button").addEventListener("click",(()=>{console.log("SquareHero button clicked - navigating to dashboard page"),function(e){const t=window.top.document.querySelector("iframe#sqs-site-frame");if(!t||!t.contentDocument)return console.error("Cannot access preview frame"),!1;const n=t.contentDocument.createElement("a");n.href=e,n.style.display="none",t.contentDocument.body.appendChild(n);const o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:t.contentWindow});n.dispatchEvent(o),setTimeout((()=>{try{n.parentNode&&n.parentNode.removeChild(n)}catch(e){console.warn("Could not remove temporary link:",e)}}),100)}("/squarehero-dashboard")}));const i=document.createElement("style");i.id="squarehero-base-styles",i.textContent="\n      .custom-toolbar-button {\n        display: inline-flex;\n        align-items: center;\n        margin-right: 10px;\n      }\n      .custom-button button {\n        background: none;\n        border: none;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 5px;\n        border-radius: 4px;\n        transition: background 0.2s;\n      }\n      .custom-button button:hover {\n        background: rgba(0,0,0,0.05);\n      }\n      .squarehero-dashboard-button {\n        background: none;\n        color: #007bff;\n        font-weight: bold;\n      }\n    ";const a=window.top.document.getElementById("squarehero-base-styles");a&&a.parentNode&&a.parentNode.removeChild(a),window.top.document.head.appendChild(i),function(){const e=window.top.document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/gh/squarehero-store/dashboard@latest/sh-helper.min.css",e.id="squarehero-styles";const t=window.top.document.getElementById("squarehero-styles");t&&t.parentNode&&t.parentNode.removeChild(t),window.top.document.head.appendChild(e),console.log("SquareHero: External CSS loaded into top window"),function(){const e=setInterval((()=>{const t=window.top.document.querySelector("iframe#sqs-site-frame");if(!t||!t.contentDocument)return;if(!t.contentDocument.querySelector("#squarehero-dashboard-container"))return;if(!t.contentDocument.querySelector(".App-footer .app-notifications-banner-container"))return;if(!window.top.document.getElementById("squarehero-iframe-padding")){const e=window.top.document.createElement("style");e.id="squarehero-iframe-padding",e.textContent="\n            iframe#sqs-site-frame {\n              padding-bottom: 40px;\n              box-sizing: border-box;\n            }\n          ",window.top.document.head.appendChild(e),console.log("SquareHero: Added padding to iframe for notification banner")}clearInterval(e)}),500);setTimeout((()=>clearInterval(e)),1e4)}()}(),setTimeout((function e(){const t=window.top.document.querySelector("iframe#sqs-site-frame");if(!t||!t.contentDocument)return console.log("Preview frame not accessible, will retry replacing sidebar icon later"),void setTimeout(e,1e3);const n=t.contentDocument.querySelector(".App-sidebar .rpp-item-list");if(!n)return console.log("Sidebar item list not found, will retry later"),void setTimeout(e,1e3);const o=n.querySelectorAll('[data-test="grouped-list-item"]');for(const e of o){const n=e.querySelector("p");if(n&&"SquareHero Dashboard"===n.textContent.trim()){const n=e.querySelector("svg");if(n){const e=t.contentDocument.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("width","18"),e.setAttribute("height","21"),e.setAttribute("fill","none"),e.setAttribute("viewBox","0 0 18 21"),e.innerHTML='<g clip-path="url(#a)"><path fill="#001E45" d="M16.71 14.418V5.612L9 1.209 1.29 5.612v8.805L9 18.82l7.71-4.402Z"/><path fill="#87C4CC" d="M16.71 14.418V5.612L9 1.209 1.29 5.612v8.805L9 18.82l7.71-4.402Z"/><path fill="#fff" d="M3.8 4.187a5.97 5.97 0 0 0 2.198 2.175 6.053 6.053 0 0 0 6.004 0 5.97 5.97 0 0 0 2.197-2.175l-5.2-2.978L3.798 4.18l.003.007ZM9 12.88a6.077 6.077 0 0 0-3 .8 5.994 5.994 0 0 0-2.2 2.171L9 18.82l5.199-2.969a5.995 5.995 0 0 0-2.2-2.171 6.077 6.077 0 0 0-3-.8Z"/><path fill="#0E0E0E" d="M14.677 4.457a6.52 6.52 0 0 1-2.4 2.374 6.61 6.61 0 0 1-6.555 0 6.52 6.52 0 0 1-2.4-2.374L1.29 5.612v8.805l2.033 1.162a6.52 6.52 0 0 1 2.399-2.375 6.61 6.61 0 0 1 6.556 0 6.52 6.52 0 0 1 2.4 2.375l2.032-1.162V5.612l-2.033-1.155Z"/><path fill="#0E0E0E" stroke="#0E0E0E" stroke-width=".5" d="M9 13.13c-1.01 0-2.004.264-2.878.764-.801.457-1.476 1.1-1.971 1.869L9 18.53l4.848-2.768a5.721 5.721 0 0 0-1.97-1.87A5.803 5.803 0 0 0 9 13.132Zm5.76-8.339a6.77 6.77 0 0 1-2.358 2.256 6.864 6.864 0 0 1-6.804 0 6.77 6.77 0 0 1-2.36-2.256l-1.698.965v8.514l1.698.972a6.773 6.773 0 0 1 2.36-2.256A6.859 6.859 0 0 1 9 12.085c1.194 0 2.367.31 3.402.901a6.77 6.77 0 0 1 2.36 2.256l1.698-.972V5.757l-1.7-.965ZM4.153 4.267a5.721 5.721 0 0 0 1.97 1.87 5.804 5.804 0 0 0 5.756 0 5.722 5.722 0 0 0 1.971-1.87L9 1.495 4.153 4.267Zm13.361 10.61-.127.073-.275.156-1.74.995-.295.168-.478.271-5.2 2.97-.275.157-.124.071-.125-.071-.276-.157L.89 15.106v.001l-.127-.072-.15-.085-.125-.072V5.149l.127-.072.276-.156.01-.006h.002L8.599.518l.276-.158L9 .29l.124.071.275.159V.519l7.707 4.4.281.16.127.071v9.728Z"/><path fill="#fff" d="M15.464 8.463 9.854 9.53l1.87 1.067 3.74-2.135ZM2.536 8.463l5.61 1.068-1.87 1.067-3.74-2.135Z"/><path fill="#0E0E0E" d="m12.741 14.28-5.61 1.068 1.87 1.068 3.74-2.136Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h18v20.5H0z"/></clipPath></defs>',n.parentNode.replaceChild(e,n),void console.log("SVG replaced for 'SquareHero Dashboard' with the new SVG.")}console.log("Existing SVG not found within the 'SquareHero Dashboard' item.")}}console.log("'SquareHero Dashboard' item not found in the sidebar, will retry later"),setTimeout(e,1e3)}),1e3)}"complete"===document.readyState?e():window.addEventListener("load",e)}();