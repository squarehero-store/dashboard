!function(){function e(){if(!window.top||!window.top.document)return void console.warn("Cannot access top window - possibly due to cross-origin restrictions");const n=window.top.document.querySelector("#frame-toolbar-desktop");if(!n)return void setTimeout(e,500);const t=window.top.document.querySelector(".custom-toolbar-button");t&&t.parentNode&&t.parentNode.removeChild(t);const o="squarehero-logo-clip-path",l=document.createElement("div");l.className="custom-toolbar-button",l.innerHTML=`\n      <div class="sh-button">\n        <button class="squarehero-dashboard-button">\n          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="27" fill="none">\n            <g clip-path="url(#${o})">\n              <path fill="#001E45" d="M22.883 19.777V7.264L12 1.007 1.115 7.264v12.513L12 26.033l10.884-6.256Z"/>\n              <path fill="#87C4CC" d="M22.883 19.777V7.264L12 1.007 1.115 7.264v12.513L12 26.033l10.884-6.256Z"/>\n              <path fill="#0CC2ED" d="M4.66 5.239a8.455 8.455 0 0 0 3.102 3.09 8.502 8.502 0 0 0 8.476 0 8.455 8.455 0 0 0 3.102-3.09L12 1.007 4.655 5.229l.004.01ZM12 17.594a8.535 8.535 0 0 0-4.236 1.135 8.49 8.49 0 0 0-3.104 3.086L12 26.033l7.34-4.218a8.49 8.49 0 0 0-3.105-3.086A8.536 8.536 0 0 0 12 17.594Z"/>\n              <path fill="#001E45" d="M20.015 5.623a9.234 9.234 0 0 1-3.387 3.373 9.286 9.286 0 0 1-9.255 0 9.234 9.234 0 0 1-3.388-3.373l-2.87 1.64v12.514l2.87 1.65a9.232 9.232 0 0 1 3.387-3.373 9.284 9.284 0 0 1 9.256 0 9.231 9.231 0 0 1 3.387 3.374l2.87-1.65V7.263l-2.87-1.641Z"/>\n              <path fill="#fff" d="M23.271 6.591 12.39.336l-.39-.225-.39.225L.743 6.58l-.016.01-.392.223v13.412l.21.12.18.103 10.884 6.256.39.225.39-.225 7.34-4.22.675-.386.418-.238 2.455-1.412.39-.224V6.816l-.396-.225Zm-3.256 14.836a9.234 9.234 0 0 0-3.387-3.374 9.284 9.284 0 0 0-9.256 0 9.233 9.233 0 0 0-3.387 3.374l-2.87-1.65V7.263l2.87-1.64a9.234 9.234 0 0 0 3.387 3.372 9.285 9.285 0 0 0 9.255 0 9.235 9.235 0 0 0 3.388-3.373l2.87 1.641v12.514l-2.87 1.65Zm-8.016-20.42 7.343 4.222a8.455 8.455 0 0 1-3.101 3.09 8.502 8.502 0 0 1-8.477 0 8.455 8.455 0 0 1-3.101-3.09l7.336-4.222Zm0 25.026-7.34-4.218a8.456 8.456 0 0 1 3.103-3.09 8.502 8.502 0 0 1 8.476 0 8.455 8.455 0 0 1 3.101 3.09L12 26.033Z"/>\n              <path fill="#fff" d="m21.125 11.316-7.92 1.518 2.64 1.517 5.28-3.035ZM2.875 11.316l7.919 1.518-2.64 1.517-5.28-3.035ZM17.281 19.583 9.361 21.1l2.641 1.518 5.28-3.035Z"/>\n            </g>\n            <defs>\n              <clipPath id="${o}">\n                <path fill="#fff" d="M0 0h24v27H0z"/>\n              </clipPath>\n            </defs>\n          </svg>\n        </button>\n      </div>\n    `;const r=n.querySelector("ul")||n.lastChild;if(r){const e=document.createElement("li");e.className="custom-list-item",e.style.cssText="display: flex; align-items: center;",e.appendChild(l),r.insertBefore(e,r.firstChild)}else n.appendChild(l);l.querySelector("button").addEventListener("click",(()=>{console.log("SquareHero button clicked - navigating to dashboard page"),function(e){const n=window.top.document.querySelector("iframe#sqs-site-frame");if(!n||!n.contentDocument)return console.error("Cannot access preview frame"),!1;const t=n.contentDocument.createElement("a");t.href=e,t.style.display="none",n.contentDocument.body.appendChild(t);const o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:n.contentWindow});t.dispatchEvent(o),setTimeout((()=>{try{t.parentNode&&t.parentNode.removeChild(t)}catch(e){console.warn("Could not remove temporary link:",e)}}),100)}("/squarehero-dashboard")}));const a=document.createElement("style");a.id="squarehero-base-styles",a.textContent="\n      .custom-toolbar-button {\n        display: inline-flex;\n        align-items: center;\n        margin-right: 10px;\n      }\n      .custom-button button {\n        background: none;\n        border: none;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 5px;\n        border-radius: 4px;\n        transition: background 0.2s;\n      }\n      .custom-button button:hover {\n        background: rgba(0,0,0,0.05);\n      }\n      .squarehero-dashboard-button {\n        background: none;\n        color: #007bff;\n        font-weight: bold;\n      }\n    ";const s=window.top.document.getElementById("squarehero-base-styles");s&&s.parentNode&&s.parentNode.removeChild(s),window.top.document.head.appendChild(a),function(){const e=window.top.document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/gh/squarehero-store/dashboard@latest/sh-helper.min.css",e.id="squarehero-styles";const n=window.top.document.getElementById("squarehero-styles");n&&n.parentNode&&n.parentNode.removeChild(n),window.top.document.head.appendChild(e),console.log("SquareHero: External CSS loaded into top window")}()}"complete"===document.readyState?e():window.addEventListener("load",e)}();