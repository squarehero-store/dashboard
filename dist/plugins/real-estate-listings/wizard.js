!function(){console.log("âœ“ REAL ESTATE WIZARD SCRIPT LOADED");const e={initialize:function(){return console.log("Initializing Real Estate Listings Wizard"),this.shouldShowWizard()?(this.registerWizardSchema(),!0):(console.log("Wizard already completed, skipping initialization"),!1)},shouldShowWizard:function(){const e="true"===localStorage.getItem("real-estate-setup-wizard_completed"),t="true"===localStorage.getItem("force-wizard");return!e||t},markWizardCompleted:function(){localStorage.setItem("real-estate-setup-wizard_completed","true"),localStorage.setItem("real-estate-wizard-completed","true"),console.log("Wizard marked as completed"),window.Dashboard&&window.Dashboard.refreshCurrentPanel&&window.Dashboard.refreshCurrentPanel()},registerWizardSchema:function(){const e=[{type:"wizard",id:"real-estate-setup-wizard",steps:[{id:"welcome",title:"Let's get started!",content:"This wizard will help you set up your Real Estate Listings plugin for your Squarespace site. Before we begin, let us know about your current setup:",image:"plugins/real-estate-listings/icon.svg",conditional:!0,components:[{type:"button-group",id:"setup-status",options:[{value:"existing",label:"I already have a blog collection with properties",description:"You have a Squarespace blog or collection where your property listings are stored",nextStep:"existing-collection"},{value:"new",label:"I need to set up my properties collection",description:"You haven't created a Squarespace blog or collection for your properties yet",nextStep:"create-collection"}]}]},{id:"existing-collection",title:"Connect to Your Existing Collection",content:"Please specify the URL path of your existing properties collection:",nextStep:"complete",components:[{type:"text",id:"collection-slug",label:"Collection URL Path",default:"properties",helpText:"The URL path of your Squarespace blog collection with property listings"}]},{id:"create-collection",title:"Create a New Collection",content:"Let's set up a new collection for your properties. Here's how:",nextStep:"complete",components:[{type:"text",id:"new-collection-name",label:"What would you like to name your collection?",default:"Properties",helpText:"This will be the name of your new Squarespace collection"}]},{id:"complete",title:"Setup Complete!",content:"Great job! Your Real Estate Listings plugin is now configured. You can make additional adjustments in the settings panel anytime.",image:"plugins/real-estate-listings/icon.svg",components:[]}],onComplete:this.onWizardComplete.bind(this),completionCallback:"realEstateWizardCompleted"}];window.Dashboard&&window.Dashboard.registerWizardSchema?(window.Dashboard.registerWizardSchema("real-estate-listings",e),console.log("Wizard schema registered")):console.error("Dashboard.registerWizardSchema method not available")},onWizardComplete:function(e,t){console.log("Wizard completed with values:",t);const o={...t};return o.wizardCompleted=!0,window.Dashboard&&window.Dashboard.savePluginSettings&&window.Dashboard.savePluginSettings("real-estate-listings",o),this.markWizardCompleted(),!0}};void 0!==window.Dashboard&&(console.log("Registering Real Estate Wizard with Dashboard"),window.Dashboard.PluginRegistry.register("real-estate-listings","wizard",e)),window.realEstateWizardCompleted=function(e){console.log("Wizard completed callback with values:",e);"new"===(e["setup-status"]||"new")?console.log("User needs to create a new collection named:",e["new-collection-name"]):console.log("User will use existing collection with slug:",e["collection-slug"]),window.Dashboard&&window.Dashboard.refreshCurrentPanel&&setTimeout((()=>{window.Dashboard.refreshCurrentPanel()}),1e3)},e.initialize()}();