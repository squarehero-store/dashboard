function testFirebaseWrite(){if(console.log("=== SQUAREHERO FIREBASE TEST ==="),!window.firebase)return void console.error("‚ùå Firebase not available in window object");console.log("‚úÖ Firebase object found in window");const e=localStorage.getItem("squarehero_auth_token"),t=localStorage.getItem("squarehero_auth_email");if(!e||!t)return void console.error("‚ùå No authentication data found in localStorage");let o;console.log("‚úÖ Authentication data found:",{uid:e,email:t});const s=document.querySelector('meta[name="squarespace-site-id"]');s?(o=s.getAttribute("content"),console.log("‚úÖ Found site ID from meta tag:",o)):window.__SQUARESPACE_CONTEXT__&&window.__SQUARESPACE_CONTEXT__.website?(o=window.__SQUARESPACE_CONTEXT__.website.id,console.log("‚úÖ Found site ID from Squarespace context:",o)):(o=window.location.hostname.replace(/[.]/g,"_"),console.log("‚úÖ Using hostname as site ID:",o));try{const t=window.firebase.database();console.log("‚úÖ Firebase database reference created");const s=Date.now();console.log("üìù Testing write to user profile..."),t.ref(`users/${e}/profile/test`).set({testWrite:!0,timestamp:s,message:"Test write from console script"}).then((()=>(console.log("‚úÖ Successfully wrote to user profile path"),console.log("üìù Testing write to site details..."),t.ref(`sites/${o}/details/test`).set({testWrite:!0,timestamp:s,message:"Test write from console script"})))).then((()=>(console.log("‚úÖ Successfully wrote to site details path"),console.log("üìù Testing write to site access..."),t.ref(`sites/${o}/access/${e}/test`).set({testWrite:!0,timestamp:s})))).then((()=>(console.log("‚úÖ Successfully wrote to site access path"),console.log("üìù Testing write to a test plugin path..."),t.ref(`sites/${o}/plugins/test-plugin`).set({settings:{enabled:!0,testSetting:"test value"},createdAt:s,lastUpdated:s,lastAccessed:s})))).then((()=>{console.log("‚úÖ Successfully wrote to plugin path"),console.log("‚úÖ ALL FIREBASE WRITE TESTS PASSED"),console.log("üîç Check your Firebase console at these paths:"),console.log(`users/${e}/profile/test`),console.log(`sites/${o}/details/test`),console.log(`sites/${o}/access/${e}/test`),console.log(`sites/${o}/plugins/test-plugin`)})).catch((e=>{console.error("‚ùå Firebase write error:",e),console.error("Error message:",e.message),console.error("Error code:",e.code),"PERMISSION_DENIED"===e.code?console.error("This is a Firebase rules issue. Check your database rules."):"NETWORK_ERROR"===e.code&&console.error("This is a network connectivity issue.")}))}catch(e){console.error("‚ùå Error accessing Firebase database:",e)}}testFirebaseWrite();